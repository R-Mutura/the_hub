EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 2 4
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Device:R_US R?
U 1 1 61968F81
P 2775 2600
F 0 "R?" H 2843 2646 50  0000 L CNN
F 1 "10K_603" H 2843 2555 50  0000 L CNN
F 2 "" V 2815 2590 50  0001 C CNN
F 3 "~" H 2775 2600 50  0001 C CNN
F 4 " RC0603FR-0710KL" H 2775 2600 50  0001 C CNN "Mfr No."
F 5 "LCSC" H 2775 2600 50  0001 C CNN "VEND"
	1    2775 2600
	1    0    0    -1  
$EndComp
$Comp
L Device:R_US R?
U 1 1 61968F89
P 2775 2175
F 0 "R?" H 2843 2221 50  0000 L CNN
F 1 "30K_603" H 2843 2130 50  0000 L CNN
F 2 "" V 2815 2165 50  0001 C CNN
F 3 "~" H 2775 2175 50  0001 C CNN
F 4 "ERJ3EKF3002V" H 2775 2175 50  0001 C CNN "Mfr No."
F 5 "LCSC" H 2775 2175 50  0001 C CNN "VEND"
	1    2775 2175
	1    0    0    -1  
$EndComp
Wire Wire Line
	8250 2175 8450 2175
Wire Wire Line
	8450 2175 8450 2025
Text Label 8450 2025 1    50   ~ 0
LDO_3V3
Text Label 2775 1950 1    50   ~ 0
LDO_3V3
Wire Wire Line
	2775 2025 2775 1950
Wire Wire Line
	2775 2450 2775 2375
$Comp
L OLIMEX_Power:GND #PWR?
U 1 1 61968F95
P 2775 2850
F 0 "#PWR?" H 2775 2600 50  0001 C CNN
F 1 "GND" H 2780 2677 50  0000 C CNN
F 2 "" H 2775 2850 60  0000 C CNN
F 3 "" H 2775 2850 60  0000 C CNN
	1    2775 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	2775 2850 2775 2750
Wire Wire Line
	2775 2375 3000 2375
Connection ~ 2775 2375
Wire Wire Line
	2775 2375 2775 2325
Text Label 3000 2375 0    50   ~ 0
ADCIN1
Text Label 5975 3675 2    50   ~ 0
ADCIN1
Wire Wire Line
	6200 3675 5975 3675
$Comp
L Device:R_US R?
U 1 1 61968FA4
P 2950 4375
F 0 "R?" H 3018 4421 50  0000 L CNN
F 1 "20K_603" H 3018 4330 50  0000 L CNN
F 2 "" V 2990 4365 50  0001 C CNN
F 3 "~" H 2950 4375 50  0001 C CNN
F 4 "0603WAF2002T5E" H 2950 4375 50  0001 C CNN "Mfr No."
F 5 "LCSC" H 2950 4375 50  0001 C CNN "VEND"
	1    2950 4375
	1    0    0    -1  
$EndComp
$Comp
L Device:R_US R?
U 1 1 61968FAC
P 2950 3950
F 0 "R?" H 3018 3996 50  0000 L CNN
F 1 "5K_805" H 3018 3905 50  0000 L CNN
F 2 "" V 2990 3940 50  0001 C CNN
F 3 "~" H 2950 3950 50  0001 C CNN
F 4 " RTT055001FTP" H 2950 3950 50  0001 C CNN "Mfr No."
F 5 "LCSC" H 2950 3950 50  0001 C CNN "VEND"
	1    2950 3950
	1    0    0    -1  
$EndComp
Text Label 2950 3725 1    50   ~ 0
LDO_3V3
Wire Wire Line
	2950 3800 2950 3725
Wire Wire Line
	2950 4225 2950 4150
$Comp
L OLIMEX_Power:GND #PWR?
U 1 1 61968FB5
P 2950 4625
F 0 "#PWR?" H 2950 4375 50  0001 C CNN
F 1 "GND" H 2955 4452 50  0000 C CNN
F 2 "" H 2950 4625 60  0000 C CNN
F 3 "" H 2950 4625 60  0000 C CNN
	1    2950 4625
	1    0    0    -1  
$EndComp
Wire Wire Line
	2950 4625 2950 4525
Wire Wire Line
	2950 4150 3175 4150
Connection ~ 2950 4150
Wire Wire Line
	2950 4150 2950 4100
Text Label 3175 4150 0    50   ~ 0
ADCIN2
Text Label 5975 3775 2    50   ~ 0
ADCIN2
Wire Wire Line
	6200 3775 5975 3775
Wire Wire Line
	6200 5425 6050 5425
Wire Wire Line
	6050 5425 6050 5525
Wire Wire Line
	6050 5725 6200 5725
Wire Wire Line
	6200 5625 6050 5625
Connection ~ 6050 5625
Wire Wire Line
	6050 5625 6050 5725
Wire Wire Line
	6200 5525 6050 5525
Connection ~ 6050 5525
Wire Wire Line
	6050 5525 6050 5625
Wire Wire Line
	6200 4975 6050 4975
Wire Wire Line
	6050 4975 6050 5075
Wire Wire Line
	6050 5275 6200 5275
Wire Wire Line
	6200 5175 6050 5175
Connection ~ 6050 5175
Wire Wire Line
	6050 5175 6050 5275
Wire Wire Line
	6200 5075 6050 5075
Connection ~ 6050 5075
Wire Wire Line
	6050 5075 6050 5175
$Comp
L Device:C_Small C?
U 1 1 61968FD4
P 8525 2550
F 0 "C?" V 8475 2600 50  0000 L CNN
F 1 "10uF" V 8475 2325 50  0000 L CNN
F 2 "" H 8525 2550 50  0001 C CNN
F 3 "~" H 8525 2550 50  0001 C CNN
	1    8525 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	8250 2325 8525 2325
$Comp
L OLIMEX_Power:GND #PWR?
U 1 1 61968FDB
P 8600 2750
F 0 "#PWR?" H 8600 2500 50  0001 C CNN
F 1 "GND" H 8605 2577 50  0000 C CNN
F 2 "" H 8600 2750 60  0000 C CNN
F 3 "" H 8600 2750 60  0000 C CNN
	1    8600 2750
	1    0    0    -1  
$EndComp
Wire Wire Line
	8600 2750 8600 2725
Wire Wire Line
	8700 2525 8700 2725
$Comp
L Device:C_Small C?
U 1 1 61968FE3
P 8700 2425
F 0 "C?" V 8750 2450 50  0000 L CNN
F 1 "10uF" V 8750 2175 50  0000 L CNN
F 2 "" H 8700 2425 50  0001 C CNN
F 3 "~" H 8700 2425 50  0001 C CNN
	1    8700 2425
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 61968FE9
P 5250 3575
F 0 "C?" H 5100 3525 50  0000 L CNN
F 1 "47uF" H 5050 3650 50  0000 L CNN
F 2 "" H 5250 3575 50  0001 C CNN
F 3 "~" H 5250 3575 50  0001 C CNN
	1    5250 3575
	-1   0    0    1   
$EndComp
$Comp
L OLIMEX_Power:GND #PWR?
U 1 1 61968FEF
P 5000 3700
F 0 "#PWR?" H 5000 3450 50  0001 C CNN
F 1 "GND" H 5005 3527 50  0000 C CNN
F 2 "" H 5000 3700 60  0000 C CNN
F 3 "" H 5000 3700 60  0000 C CNN
	1    5000 3700
	0    1    1    0   
$EndComp
$Comp
L Device:C_Small C?
U 1 1 61968FF5
P 7425 1775
F 0 "C?" V 7300 1725 50  0000 L CNN
F 1 "10uF" V 7550 1625 50  0000 L CNN
F 2 "" H 7425 1775 50  0001 C CNN
F 3 "~" H 7425 1775 50  0001 C CNN
	1    7425 1775
	0    1    1    0   
$EndComp
$Comp
L OLIMEX_Power:GND #PWR?
U 1 1 61968FFB
P 7575 1775
F 0 "#PWR?" H 7575 1525 50  0001 C CNN
F 1 "GND" H 7580 1602 50  0000 C CNN
F 2 "" H 7575 1775 60  0000 C CNN
F 3 "" H 7575 1775 60  0000 C CNN
	1    7575 1775
	0    -1   -1   0   
$EndComp
Wire Wire Line
	7575 1775 7525 1775
Wire Wire Line
	7150 1925 7150 1775
Wire Wire Line
	7150 1775 7325 1775
$Comp
L OLIMEX_Power:+3.3V #PWR?
U 1 1 61969004
P 7150 1675
F 0 "#PWR?" H 7150 1525 50  0001 C CNN
F 1 "+3.3V" H 7165 1848 50  0000 C CNN
F 2 "" H 7150 1675 60  0000 C CNN
F 3 "" H 7150 1675 60  0000 C CNN
	1    7150 1675
	1    0    0    -1  
$EndComp
Wire Wire Line
	7150 1675 7150 1775
Connection ~ 7150 1775
$Comp
L OLIMEX_Power:GND #PWR?
U 1 1 6196900C
P 7150 6250
F 0 "#PWR?" H 7150 6000 50  0001 C CNN
F 1 "GND" H 7155 6077 50  0000 C CNN
F 2 "" H 7150 6250 60  0000 C CNN
F 3 "" H 7150 6250 60  0000 C CNN
	1    7150 6250
	1    0    0    -1  
$EndComp
Wire Wire Line
	6900 6075 6900 6250
Wire Wire Line
	6900 6250 7000 6250
Wire Wire Line
	7000 6075 7000 6250
Connection ~ 7000 6250
Wire Wire Line
	7000 6250 7100 6250
Wire Wire Line
	7100 6075 7100 6250
Connection ~ 7100 6250
Wire Wire Line
	7100 6250 7150 6250
Wire Wire Line
	7200 6075 7200 6250
Wire Wire Line
	7200 6250 7150 6250
Connection ~ 7150 6250
Wire Wire Line
	7200 6250 7300 6250
Wire Wire Line
	7300 6250 7300 6075
Connection ~ 7200 6250
Wire Wire Line
	7300 6250 7400 6250
Wire Wire Line
	7400 6250 7400 6075
Connection ~ 7300 6250
Wire Wire Line
	6200 2375 5975 2375
Wire Wire Line
	5975 2375 5975 2425
Wire Wire Line
	5975 2475 6200 2475
Wire Wire Line
	5975 2425 4850 2425
Connection ~ 5975 2425
Wire Wire Line
	5975 2425 5975 2475
Wire Wire Line
	6200 2725 5975 2725
Wire Wire Line
	5975 2725 5975 2675
Wire Wire Line
	5975 2625 6200 2625
Wire Wire Line
	5975 2675 4850 2675
Connection ~ 5975 2675
Wire Wire Line
	5975 2675 5975 2625
Wire Wire Line
	4850 2675 4850 2425
Connection ~ 4850 2425
$Comp
L OLIMEX_Power:GND #PWR?
U 1 1 61969031
P 4600 2925
F 0 "#PWR?" H 4600 2675 50  0001 C CNN
F 1 "GND" H 4605 2752 50  0000 C CNN
F 2 "" H 4600 2925 60  0000 C CNN
F 3 "" H 4600 2925 60  0000 C CNN
	1    4600 2925
	-1   0    0    -1  
$EndComp
Wire Wire Line
	4850 2425 4600 2425
$Comp
L Device:C_Small C?
U 1 1 61969038
P 4600 2825
F 0 "C?" H 4475 2900 50  0000 L CNN
F 1 "1uF" H 4450 2750 50  0000 L CNN
F 2 "" H 4600 2825 50  0001 C CNN
F 3 "~" H 4600 2825 50  0001 C CNN
	1    4600 2825
	1    0    0    1   
$EndComp
$Comp
L usb_hub:TPS65987D U?
U 1 1 6196903E
P 7150 2025
F 0 "U?" H 7175 1350 50  0000 C CNN
F 1 "TPS65987D" H 7225 1250 50  0000 C CNN
F 2 "" H 4400 2025 50  0001 C CNN
F 3 "" H 4400 2025 50  0001 C CNN
	1    7150 2025
	1    0    0    -1  
$EndComp
$Comp
L Device:D_Schottky D?
U 1 1 61969044
P 4850 2825
F 0 "D?" V 4804 2905 50  0000 L CNN
F 1 "D_Schottky" V 4895 2905 50  0000 L CNN
F 2 "" H 4850 2825 50  0001 C CNN
F 3 "~" H 4850 2825 50  0001 C CNN
	1    4850 2825
	0    1    1    0   
$EndComp
Connection ~ 4850 2675
$Comp
L OLIMEX_Power:GND #PWR?
U 1 1 6196904B
P 4850 2975
F 0 "#PWR?" H 4850 2725 50  0001 C CNN
F 1 "GND" H 4855 2802 50  0000 C CNN
F 2 "" H 4850 2975 60  0000 C CNN
F 3 "" H 4850 2975 60  0000 C CNN
	1    4850 2975
	-1   0    0    -1  
$EndComp
Text Notes 3250 4775 0    50   ~ 0
sets the I2C address\nDIV = R2/(R1+R2)\nR1=5K, R2=20K\nDIV=0.8, ADD=011b
Text Notes 3075 2925 0    50   ~ 0
BP_WaitFor3V3_Internal mode\ndiv=0.25, SPI_POCI=1\nR1=30K, R2=10K.
$Comp
L Device:R_US R?
U 1 1 61969053
P 5325 1925
F 0 "R?" V 5120 1925 50  0000 C CNN
F 1 "100K" V 5211 1925 50  0000 C CNN
F 2 "" V 5365 1915 50  0001 C CNN
F 3 "~" H 5325 1925 50  0001 C CNN
	1    5325 1925
	0    1    1    0   
$EndComp
$Comp
L Device:C_Small C?
U 1 1 61969059
P 5575 2050
F 0 "C?" H 5400 2050 50  0000 L CNN
F 1 "0.01uF" H 5300 2150 50  0000 L CNN
F 2 "" H 5575 2050 50  0001 C CNN
F 3 "~" H 5575 2050 50  0001 C CNN
	1    5575 2050
	-1   0    0    1   
$EndComp
$Comp
L OLIMEX_Power:GND #PWR?
U 1 1 6196905F
P 5175 2175
F 0 "#PWR?" H 5175 1925 50  0001 C CNN
F 1 "GND" H 5180 2002 50  0000 C CNN
F 2 "" H 5175 2175 60  0000 C CNN
F 3 "" H 5175 2175 60  0000 C CNN
	1    5175 2175
	1    0    0    -1  
$EndComp
Wire Wire Line
	5175 2175 5175 2150
Wire Wire Line
	5475 1925 5575 1925
Wire Wire Line
	5575 1925 5575 1950
Wire Wire Line
	5575 1925 5975 1925
Wire Wire Line
	5975 1925 5975 2175
Wire Wire Line
	5975 2175 6200 2175
Connection ~ 5575 1925
Connection ~ 5175 2150
Wire Wire Line
	5175 2150 5175 1925
Wire Wire Line
	5175 2150 5575 2150
$Comp
L Device:C_Small C?
U 1 1 6196907B
P 5525 4175
F 0 "C?" H 5550 4250 50  0000 L CNN
F 1 "220pF" H 5550 4100 50  0000 L CNN
F 2 "" H 5525 4175 50  0001 C CNN
F 3 "~" H 5525 4175 50  0001 C CNN
	1    5525 4175
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 61969081
P 5175 4175
F 0 "C?" H 5200 4250 50  0000 L CNN
F 1 "220pF" H 5200 4100 50  0000 L CNN
F 2 "" H 5175 4175 50  0001 C CNN
F 3 "~" H 5175 4175 50  0001 C CNN
	1    5175 4175
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 3925 5175 3925
Wire Wire Line
	5175 3925 5175 4075
Wire Wire Line
	5175 4275 5175 4325
Wire Wire Line
	5175 4325 5350 4325
Wire Wire Line
	5525 4325 5525 4275
Wire Wire Line
	6200 4025 5525 4025
Wire Wire Line
	5525 4025 5525 4075
$Comp
L OLIMEX_Power:GND #PWR?
U 1 1 6196908E
P 5350 4325
F 0 "#PWR?" H 5350 4075 50  0001 C CNN
F 1 "GND" H 5355 4152 50  0000 C CNN
F 2 "" H 5350 4325 60  0000 C CNN
F 3 "" H 5350 4325 60  0000 C CNN
	1    5350 4325
	1    0    0    -1  
$EndComp
Connection ~ 5350 4325
Wire Wire Line
	5350 4325 5525 4325
Wire Wire Line
	5175 3925 4925 3925
Connection ~ 5175 3925
Wire Wire Line
	4925 4025 5525 4025
Connection ~ 5525 4025
Text Label 8475 4775 0    50   ~ 0
PP_EXT_CNTRL
Wire Wire Line
	8475 4775 8250 4775
Wire Wire Line
	8450 2175 8700 2175
Wire Wire Line
	8700 2175 8700 2325
Connection ~ 8450 2175
Wire Wire Line
	8525 2725 8600 2725
Connection ~ 8600 2725
Wire Wire Line
	8600 2725 8700 2725
Wire Wire Line
	8525 2450 8525 2325
Wire Wire Line
	8525 2650 8525 2725
Text Label 5075 2425 2    50   ~ 0
VBUS
Wire Wire Line
	4600 2425 4600 2725
Wire Wire Line
	5250 3675 5250 3700
Wire Wire Line
	5250 3700 5000 3700
Wire Wire Line
	5800 3075 5800 2975
$Comp
L OLIMEX_Power:+5V #PWR?
U 1 1 619691B5
P 5425 2975
F 0 "#PWR?" H 5425 2825 50  0001 C CNN
F 1 "+5V" H 5440 3148 50  0000 C CNN
F 2 "" H 5425 2975 60  0000 C CNN
F 3 "" H 5425 2975 60  0000 C CNN
	1    5425 2975
	1    0    0    -1  
$EndComp
Wire Wire Line
	5425 2975 5650 2975
Connection ~ 5800 2975
Wire Wire Line
	5250 3425 5250 3475
Wire Wire Line
	5800 2975 6200 2975
Wire Wire Line
	5800 3075 6200 3075
Connection ~ 5250 3475
Wire Wire Line
	5250 3475 6200 3475
$Comp
L OLIMEX_Power:+5V #PWR?
U 1 1 619691C2
P 5250 3425
F 0 "#PWR?" H 5250 3275 50  0001 C CNN
F 1 "+5V" H 5265 3598 50  0000 C CNN
F 2 "" H 5250 3425 60  0000 C CNN
F 3 "" H 5250 3425 60  0000 C CNN
	1    5250 3425
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 619691D1
P 5650 3150
F 0 "C?" H 5500 3100 50  0000 L CNN
F 1 "47uF" H 5450 3225 50  0000 L CNN
F 2 "" H 5650 3150 50  0001 C CNN
F 3 "~" H 5650 3150 50  0001 C CNN
	1    5650 3150
	-1   0    0    1   
$EndComp
Wire Wire Line
	5650 3050 5650 2975
Connection ~ 5650 2975
Wire Wire Line
	5650 2975 5800 2975
$Comp
L OLIMEX_Power:GND #PWR?
U 1 1 619691DA
P 5625 3300
F 0 "#PWR?" H 5625 3050 50  0001 C CNN
F 1 "GND" H 5630 3127 50  0000 C CNN
F 2 "" H 5625 3300 60  0000 C CNN
F 3 "" H 5625 3300 60  0000 C CNN
	1    5625 3300
	0    1    1    0   
$EndComp
Wire Wire Line
	5625 3300 5650 3300
Wire Wire Line
	5650 3300 5650 3250
Wire Wire Line
	5650 3300 6050 3300
Wire Wire Line
	6050 3300 6050 3225
Wire Wire Line
	6050 3225 6200 3225
Connection ~ 5650 3300
Wire Wire Line
	6200 3325 6050 3325
Wire Wire Line
	6050 3325 6050 3300
Connection ~ 6050 3300
Text Notes 5150 1000 0    39   ~ 0
The TPS65987D requires firmware \nprogramming via a downloadable GUI tool.\nRecomendation: Since the system takes in a \ncharger we can configure it as a Source device\n(read:https://www.embedded.com/usb-type-c-and-power-delivery-101-ports-and-connections/) \nSecondly: we can configure it as a DRP device that can source(provide) or sink(receive) power. Its a source when the charging \nreceptacle it active and a sink when the charging receptacle is in active.
Wire Notes Line
	4425 1225 4425 6475
Wire Notes Line
	4425 6475 9075 6475
Wire Notes Line
	9075 6475 9075 1225
Wire Notes Line
	9075 1225 4425 1225
Wire Notes Line
	2525 3200 4325 3200
Wire Notes Line
	4325 3200 4325 4900
Wire Notes Line
	4325 4900 2525 4900
Wire Notes Line
	2525 4900 2525 3200
Wire Notes Line
	2525 3150 4300 3150
Wire Notes Line
	4300 3150 4300 1250
Wire Notes Line
	4300 1250 2525 1250
Wire Notes Line
	2525 1250 2525 3150
Text HLabel 4925 3925 0    50   Input ~ 0
CC_CC1
Text HLabel 4925 4025 0    50   Input ~ 0
VCONN
$Comp
L Device:R_US R?
U 1 1 619E63F3
P 8475 5075
F 0 "R?" V 8425 4925 50  0000 C CNN
F 1 "0" V 8425 5275 50  0000 C CNN
F 2 "" V 8515 5065 50  0001 C CNN
F 3 "~" H 8475 5075 50  0001 C CNN
	1    8475 5075
	0    1    1    0   
$EndComp
$Comp
L Device:R_US R?
U 1 1 619F229E
P 8475 5175
F 0 "R?" V 8525 5000 50  0000 C CNN
F 1 "0" V 8525 5375 50  0000 C CNN
F 2 "" V 8515 5165 50  0001 C CNN
F 3 "~" H 8475 5175 50  0001 C CNN
	1    8475 5175
	0    1    1    0   
$EndComp
Wire Wire Line
	8250 5075 8325 5075
Wire Wire Line
	8625 5075 8750 5075
Wire Wire Line
	8250 5175 8325 5175
Wire Wire Line
	8625 5175 8750 5175
Text HLabel 8750 5075 2    43   Input ~ 0
USB_D+
Text HLabel 8750 5175 2    43   Input ~ 0
USB_D-
Text HLabel 8500 4475 2    39   Input ~ 0
POWER_LVL1
Text HLabel 8500 4575 2    39   Input ~ 0
POWER_LVL2
Text HLabel 8475 4875 2    39   Input ~ 0
POWER_LVL3
Wire Wire Line
	8475 4875 8250 4875
Wire Wire Line
	8500 4575 8250 4575
Wire Wire Line
	8250 4475 8500 4475
Text GLabel 4600 2425 1    39   Input ~ 0
VBUS
$EndSCHEMATC
